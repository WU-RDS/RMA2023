<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Marketing Research Design &amp; Analysis 2018</title>
  <meta name="description" content="An Introduction to Statistics Using R">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Marketing Research Design &amp; Analysis 2018" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="An Introduction to Statistics Using R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Marketing Research Design &amp; Analysis 2018" />
  
  <meta name="twitter:description" content="An Introduction to Statistics Using R" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="prev" href="advanced-data-handling.html">
<link rel="next" href="random-variables.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.7.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotlyjs-1.29.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotlyjs-1.29.2/plotly-latest.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">MRDA 2017</a></strong></li>
<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a></li>
<li class="chapter" data-level="" data-path="course-materials.html"><a href="course-materials.html"><i class="fa fa-check"></i>Course materials</a><ul>
<li class="chapter" data-level="" data-path="course-materials.html"><a href="course-materials.html#main-reference"><i class="fa fa-check"></i>Main reference</a></li>
<li class="chapter" data-level="" data-path="course-materials.html"><a href="course-materials.html#further-readings"><i class="fa fa-check"></i>Further readings</a></li>
<li class="chapter" data-level="" data-path="course-materials.html"><a href="course-materials.html#datacamp"><i class="fa fa-check"></i>DataCamp</a></li>
<li class="chapter" data-level="" data-path="course-materials.html"><a href="course-materials.html#other-web-resources"><i class="fa fa-check"></i>Other web-resources</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting started</a><ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#why-r"><i class="fa fa-check"></i><b>1.1</b> Why R?</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#how-to-download-and-install-r-and-rstudio"><i class="fa fa-check"></i><b>1.2</b> How to download and install R and RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#getting-help"><i class="fa fa-check"></i><b>1.3</b> Getting help</a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#functions"><i class="fa fa-check"></i><b>1.4</b> Functions</a></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#packages"><i class="fa fa-check"></i><b>1.5</b> Packages</a></li>
<li class="chapter" data-level="1.6" data-path="getting-started.html"><a href="getting-started.html#a-typical-r-session"><i class="fa fa-check"></i><b>1.6</b> A typical R session</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basic-data-handling.html"><a href="basic-data-handling.html"><i class="fa fa-check"></i><b>2</b> Basic data handling</a><ul>
<li class="chapter" data-level="2.1" data-path="basic-data-handling.html"><a href="basic-data-handling.html#creating-objects"><i class="fa fa-check"></i><b>2.1</b> Creating objects</a></li>
<li class="chapter" data-level="2.2" data-path="basic-data-handling.html"><a href="basic-data-handling.html#data-types"><i class="fa fa-check"></i><b>2.2</b> Data types</a></li>
<li class="chapter" data-level="2.3" data-path="basic-data-handling.html"><a href="basic-data-handling.html#data-structures"><i class="fa fa-check"></i><b>2.3</b> Data structures</a><ul>
<li class="chapter" data-level="2.3.1" data-path="basic-data-handling.html"><a href="basic-data-handling.html#accessing-data-in-data-frames"><i class="fa fa-check"></i><b>2.3.1</b> Accessing data in data frames</a></li>
<li class="chapter" data-level="2.3.2" data-path="basic-data-handling.html"><a href="basic-data-handling.html#inspecting-the-content-of-a-data-frame"><i class="fa fa-check"></i><b>2.3.2</b> Inspecting the content of a data frame</a></li>
<li class="chapter" data-level="2.3.3" data-path="basic-data-handling.html"><a href="basic-data-handling.html#append-and-delete-variables-tofrom-data-frames"><i class="fa fa-check"></i><b>2.3.3</b> Append and delete variables to/from data frames</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html"><i class="fa fa-check"></i><b>3</b> Advanced data handling</a><ul>
<li class="chapter" data-level="3.1" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html#the-dplyr-package"><i class="fa fa-check"></i><b>3.1</b> The dplyr package</a><ul>
<li class="chapter" data-level="3.1.1" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html#filter-rows"><i class="fa fa-check"></i><b>3.1.1</b> Filter rows</a></li>
<li class="chapter" data-level="3.1.2" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html#select-columns"><i class="fa fa-check"></i><b>3.1.2</b> Select columns</a></li>
<li class="chapter" data-level="3.1.3" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html#rename-columns"><i class="fa fa-check"></i><b>3.1.3</b> Rename columns</a></li>
<li class="chapter" data-level="3.1.4" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html#arrange-rows"><i class="fa fa-check"></i><b>3.1.4</b> Arrange rows</a></li>
<li class="chapter" data-level="3.1.5" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html#adding-and-changing-variables"><i class="fa fa-check"></i><b>3.1.5</b> Adding and changing variables</a></li>
<li class="chapter" data-level="3.1.6" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html#changing-variables"><i class="fa fa-check"></i><b>3.1.6</b> Changing variables</a></li>
<li class="chapter" data-level="3.1.7" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html#pipes"><i class="fa fa-check"></i><b>3.1.7</b> Pipes</a></li>
<li class="chapter" data-level="3.1.8" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html#creating-custom-summaries"><i class="fa fa-check"></i><b>3.1.8</b> Creating custom summaries</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html#dealing-with-strings"><i class="fa fa-check"></i><b>3.2</b> Dealing with strings</a><ul>
<li class="chapter" data-level="3.2.1" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html#the-stringr-package"><i class="fa fa-check"></i><b>3.2.1</b> The <code>stringr</code> package</a></li>
<li class="chapter" data-level="3.2.2" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html#a-crash-course-in-regex"><i class="fa fa-check"></i><b>3.2.2</b> A crash course in regex</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="advanced-data-handling.html"><a href="advanced-data-handling.html#case-study"><i class="fa fa-check"></i><b>3.3</b> Case study</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-import-and-export.html"><a href="data-import-and-export.html"><i class="fa fa-check"></i><b>4</b> Data import and export</a><ul>
<li class="chapter" data-level="4.1" data-path="data-import-and-export.html"><a href="data-import-and-export.html#getting-data-for-this-course"><i class="fa fa-check"></i><b>4.1</b> Getting data for this course</a><ul>
<li class="chapter" data-level="4.1.1" data-path="data-import-and-export.html"><a href="data-import-and-export.html#directly-import-datasets-from-github-recommended"><i class="fa fa-check"></i><b>4.1.1</b> Directly import datasets from GitHub (recommended)</a></li>
<li class="chapter" data-level="4.1.2" data-path="data-import-and-export.html"><a href="data-import-and-export.html#download-and-import-datasets-from-learnwu"><i class="fa fa-check"></i><b>4.1.2</b> Download and import datasets from “Learn@WU”</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-import-and-export.html"><a href="data-import-and-export.html#import-data-created-by-other-software-packages"><i class="fa fa-check"></i><b>4.2</b> Import data created by other software packages</a></li>
<li class="chapter" data-level="4.3" data-path="data-import-and-export.html"><a href="data-import-and-export.html#export-data"><i class="fa fa-check"></i><b>4.3</b> Export data</a></li>
<li class="chapter" data-level="4.4" data-path="data-import-and-export.html"><a href="data-import-and-export.html#import-data-from-the-web"><i class="fa fa-check"></i><b>4.4</b> Import data from the Web</a><ul>
<li class="chapter" data-level="4.4.1" data-path="data-import-and-export.html"><a href="data-import-and-export.html#scraping-data-from-websites"><i class="fa fa-check"></i><b>4.4.1</b> Scraping data from websites</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-import-and-export.html"><a href="data-import-and-export.html#scraping-data-from-apis"><i class="fa fa-check"></i><b>4.4.2</b> Scraping data from APIs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="random-variables.html"><a href="random-variables.html"><i class="fa fa-check"></i><b>5</b> Random Variables</a><ul>
<li class="chapter" data-level="5.0.1" data-path="random-variables.html"><a href="random-variables.html#why-random-variables"><i class="fa fa-check"></i><b>5.0.1</b> Why Random Variables?</a></li>
<li class="chapter" data-level="5.0.2" data-path="random-variables.html"><a href="random-variables.html#tossing-coins"><i class="fa fa-check"></i><b>5.0.2</b> Tossing coins</a></li>
<li class="chapter" data-level="5.0.3" data-path="random-variables.html"><a href="random-variables.html#sum-of-two-dice"><i class="fa fa-check"></i><b>5.0.3</b> Sum of two dice</a></li>
<li class="chapter" data-level="5.0.4" data-path="random-variables.html"><a href="random-variables.html#discrete-random-variables"><i class="fa fa-check"></i><b>5.0.4</b> Discrete Random Variables</a></li>
<li class="chapter" data-level="5.0.5" data-path="random-variables.html"><a href="random-variables.html#continuous-case"><i class="fa fa-check"></i><b>5.0.5</b> Continuous Case</a></li>
<li class="chapter" data-level="5.0.6" data-path="random-variables.html"><a href="random-variables.html#definitions"><i class="fa fa-check"></i><b>5.0.6</b> Definitions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="probability-distributions.html"><a href="probability-distributions.html"><i class="fa fa-check"></i><b>6</b> Probability Distributions</a><ul>
<li class="chapter" data-level="6.1" data-path="probability-distributions.html"><a href="probability-distributions.html#introduction"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="probability-distributions.html"><a href="probability-distributions.html#discrete-distributions"><i class="fa fa-check"></i><b>6.2</b> Discrete Distributions</a><ul>
<li class="chapter" data-level="6.2.1" data-path="probability-distributions.html"><a href="probability-distributions.html#binomial-distribution---coin-toss-yet-again"><i class="fa fa-check"></i><b>6.2.1</b> <a id="binom"></a> Binomial Distribution - Coin toss yet again!</a></li>
<li class="chapter" data-level="6.2.2" data-path="probability-distributions.html"><a href="probability-distributions.html#discrete-uniform-distribution"><i class="fa fa-check"></i><b>6.2.2</b> Discrete Uniform Distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="probability-distributions.html"><a href="probability-distributions.html#continuous-distributions"><i class="fa fa-check"></i><b>6.3</b> Continuous Distributions</a><ul>
<li class="chapter" data-level="6.3.1" data-path="probability-distributions.html"><a href="probability-distributions.html#uniform-distribution"><i class="fa fa-check"></i><b>6.3.1</b> Uniform Distribution</a></li>
<li class="chapter" data-level="6.3.2" data-path="probability-distributions.html"><a href="probability-distributions.html#normal-distribution"><i class="fa fa-check"></i><b>6.3.2</b> Normal distribution</a></li>
<li class="chapter" data-level="6.3.3" data-path="probability-distributions.html"><a href="probability-distributions.html#chi2-distribution"><i class="fa fa-check"></i><b>6.3.3</b> <span class="math inline">\(\chi^2\)</span> Distribution</a></li>
<li class="chapter" data-level="6.3.4" data-path="probability-distributions.html"><a href="probability-distributions.html#t-distribution"><i class="fa fa-check"></i><b>6.3.4</b> t-Distribution</a></li>
<li class="chapter" data-level="6.3.5" data-path="probability-distributions.html"><a href="probability-distributions.html#f-distribution"><i class="fa fa-check"></i><b>6.3.5</b> F-Distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="probability-distributions.html"><a href="probability-distributions.html#appendix"><i class="fa fa-check"></i><b>6.4</b> Appendix</a><ul>
<li class="chapter" data-level="6.4.1" data-path="probability-distributions.html"><a href="probability-distributions.html#derivation-of-the-varaince-of-the-binomial-distribution"><i class="fa fa-check"></i><b>6.4.1</b> Derivation of the varaince of the binomial distribution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="summary-statistics.html"><a href="summary-statistics.html"><i class="fa fa-check"></i><b>7</b> Summary statistics</a><ul>
<li class="chapter" data-level="7.1" data-path="summary-statistics.html"><a href="summary-statistics.html#categorical-variables"><i class="fa fa-check"></i><b>7.1</b> Categorical variables</a></li>
<li class="chapter" data-level="7.2" data-path="summary-statistics.html"><a href="summary-statistics.html#continuous-variables"><i class="fa fa-check"></i><b>7.2</b> Continuous variables</a><ul>
<li class="chapter" data-level="7.2.1" data-path="summary-statistics.html"><a href="summary-statistics.html#descriptive-statistics"><i class="fa fa-check"></i><b>7.2.1</b> Descriptive statistics</a></li>
<li class="chapter" data-level="7.2.2" data-path="summary-statistics.html"><a href="summary-statistics.html#creating-subsets"><i class="fa fa-check"></i><b>7.2.2</b> Creating subsets</a></li>
<li class="chapter" data-level="7.2.3" data-path="summary-statistics.html"><a href="summary-statistics.html#confidence-intervals"><i class="fa fa-check"></i><b>7.2.3</b> Confidence intervals</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>8</b> Data visualization</a><ul>
<li class="chapter" data-level="8.1" data-path="data-visualization.html"><a href="data-visualization.html#categorical-variables-1"><i class="fa fa-check"></i><b>8.1</b> Categorical variables</a><ul>
<li class="chapter" data-level="8.1.1" data-path="data-visualization.html"><a href="data-visualization.html#bar-plot"><i class="fa fa-check"></i><b>8.1.1</b> Bar plot</a></li>
<li class="chapter" data-level="8.1.2" data-path="data-visualization.html"><a href="data-visualization.html#covariation-plots"><i class="fa fa-check"></i><b>8.1.2</b> Covariation plots</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="data-visualization.html"><a href="data-visualization.html#continuous-variables-1"><i class="fa fa-check"></i><b>8.2</b> Continuous variables</a><ul>
<li class="chapter" data-level="8.2.1" data-path="data-visualization.html"><a href="data-visualization.html#histogram"><i class="fa fa-check"></i><b>8.2.1</b> Histogram</a></li>
<li class="chapter" data-level="8.2.2" data-path="data-visualization.html"><a href="data-visualization.html#boxplot"><i class="fa fa-check"></i><b>8.2.2</b> Boxplot</a></li>
<li class="chapter" data-level="8.2.3" data-path="data-visualization.html"><a href="data-visualization.html#plot-of-means"><i class="fa fa-check"></i><b>8.2.3</b> Plot of means</a></li>
<li class="chapter" data-level="8.2.4" data-path="data-visualization.html"><a href="data-visualization.html#scatter-plot"><i class="fa fa-check"></i><b>8.2.4</b> Scatter plot</a></li>
<li class="chapter" data-level="8.2.5" data-path="data-visualization.html"><a href="data-visualization.html#line-plot"><i class="fa fa-check"></i><b>8.2.5</b> Line plot</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="data-visualization.html"><a href="data-visualization.html#saving-plots"><i class="fa fa-check"></i><b>8.3</b> Saving plots</a></li>
<li class="chapter" data-level="8.4" data-path="data-visualization.html"><a href="data-visualization.html#additional-options"><i class="fa fa-check"></i><b>8.4</b> Additional options</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>9</b> Hypothesis testing</a><ul>
<li class="chapter" data-level="9.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#introduction-1"><i class="fa fa-check"></i><b>9.1</b> Introduction</a><ul>
<li class="chapter" data-level="9.1.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#why-do-we-test-hypotheses"><i class="fa fa-check"></i><b>9.1.1</b> Why do we test hypotheses?</a></li>
<li class="chapter" data-level="9.1.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#the-process-of-hypothesis-testing"><i class="fa fa-check"></i><b>9.1.2</b> The process of hypothesis testing</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#parametric-tests"><i class="fa fa-check"></i><b>9.2</b> Parametric tests</a><ul>
<li class="chapter" data-level="9.2.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#independent-means-t-test"><i class="fa fa-check"></i><b>9.2.1</b> Independent-means t-test</a></li>
<li class="chapter" data-level="9.2.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#dependent-means-t-test"><i class="fa fa-check"></i><b>9.2.2</b> Dependent-means t-test</a></li>
<li class="chapter" data-level="9.2.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#one-sample-t-test"><i class="fa fa-check"></i><b>9.2.3</b> One-sample t-test</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#non-parametric-tests"><i class="fa fa-check"></i><b>9.3</b> Non-parametric tests</a><ul>
<li class="chapter" data-level="9.3.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#mann-whitney-u-test-a.k.a.-wilcoxon-rank-sum-test"><i class="fa fa-check"></i><b>9.3.1</b> Mann-Whitney U Test (a.k.a. Wilcoxon rank-sum test)</a></li>
<li class="chapter" data-level="9.3.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#wilcoxon-signed-rank-test"><i class="fa fa-check"></i><b>9.3.2</b> Wilcoxon signed-rank test</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#categorical-data"><i class="fa fa-check"></i><b>9.4</b> Categorical data</a><ul>
<li class="chapter" data-level="9.4.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#comparing-proportions"><i class="fa fa-check"></i><b>9.4.1</b> Comparing proportions</a></li>
<li class="chapter" data-level="9.4.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#chi-square-test"><i class="fa fa-check"></i><b>9.4.2</b> Chi-square test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html"><i class="fa fa-check"></i><b>10</b> Analysis of variance</a><ul>
<li class="chapter" data-level="10.1" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#introduction-2"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#decomposing-variance"><i class="fa fa-check"></i><b>10.2</b> Decomposing variance</a><ul>
<li class="chapter" data-level="10.2.1" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#total-sum-of-squares"><i class="fa fa-check"></i><b>10.2.1</b> Total sum of squares</a></li>
<li class="chapter" data-level="10.2.2" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#model-sum-of-squares"><i class="fa fa-check"></i><b>10.2.2</b> Model sum of squares</a></li>
<li class="chapter" data-level="10.2.3" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#residual-sum-of-squares"><i class="fa fa-check"></i><b>10.2.3</b> Residual sum of squares</a></li>
<li class="chapter" data-level="10.2.4" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#effect-strength"><i class="fa fa-check"></i><b>10.2.4</b> Effect strength</a></li>
<li class="chapter" data-level="10.2.5" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#test-of-significance"><i class="fa fa-check"></i><b>10.2.5</b> Test of significance</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#one-way-anova"><i class="fa fa-check"></i><b>10.3</b> One-way ANOVA</a><ul>
<li class="chapter" data-level="10.3.1" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#basic-anova"><i class="fa fa-check"></i><b>10.3.1</b> Basic ANOVA</a></li>
<li class="chapter" data-level="10.3.2" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#post-hoc-tests"><i class="fa fa-check"></i><b>10.3.2</b> Post-hoc tests</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#n-way-anova"><i class="fa fa-check"></i><b>10.4</b> N-way ANOVA</a></li>
<li class="chapter" data-level="10.5" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#non-parametric-tests-1"><i class="fa fa-check"></i><b>10.5</b> Non-parametric tests</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>11</b> Regression</a><ul>
<li class="chapter" data-level="11.1" data-path="regression.html"><a href="regression.html#correlation"><i class="fa fa-check"></i><b>11.1</b> Correlation</a><ul>
<li class="chapter" data-level="11.1.1" data-path="regression.html"><a href="regression.html#correlation-coefficient"><i class="fa fa-check"></i><b>11.1.1</b> Correlation coefficient</a></li>
<li class="chapter" data-level="11.1.2" data-path="regression.html"><a href="regression.html#significance-testing"><i class="fa fa-check"></i><b>11.1.2</b> Significance testing</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="regression.html"><a href="regression.html#regression-1"><i class="fa fa-check"></i><b>11.2</b> Regression</a><ul>
<li class="chapter" data-level="11.2.1" data-path="regression.html"><a href="regression.html#simple-linear-regression"><i class="fa fa-check"></i><b>11.2.1</b> Simple linear regression</a></li>
<li class="chapter" data-level="11.2.2" data-path="regression.html"><a href="regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>11.2.2</b> Multiple linear regression</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="regression.html"><a href="regression.html#potential-problems"><i class="fa fa-check"></i><b>11.3</b> Potential problems</a><ul>
<li class="chapter" data-level="11.3.1" data-path="regression.html"><a href="regression.html#outliers"><i class="fa fa-check"></i><b>11.3.1</b> Outliers</a></li>
<li class="chapter" data-level="11.3.2" data-path="regression.html"><a href="regression.html#influential-observations"><i class="fa fa-check"></i><b>11.3.2</b> Influential observations</a></li>
<li class="chapter" data-level="11.3.3" data-path="regression.html"><a href="regression.html#non-linearity"><i class="fa fa-check"></i><b>11.3.3</b> Non-linearity</a></li>
<li class="chapter" data-level="11.3.4" data-path="regression.html"><a href="regression.html#non-constant-error-variance"><i class="fa fa-check"></i><b>11.3.4</b> Non-constant error variance</a></li>
<li class="chapter" data-level="11.3.5" data-path="regression.html"><a href="regression.html#non-normally-distributed-errors"><i class="fa fa-check"></i><b>11.3.5</b> Non-normally distributed errors</a></li>
<li class="chapter" data-level="11.3.6" data-path="regression.html"><a href="regression.html#correlation-of-errors"><i class="fa fa-check"></i><b>11.3.6</b> Correlation of errors</a></li>
<li class="chapter" data-level="11.3.7" data-path="regression.html"><a href="regression.html#collinearity"><i class="fa fa-check"></i><b>11.3.7</b> Collinearity</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="regression.html"><a href="regression.html#categorical-predictors"><i class="fa fa-check"></i><b>11.4</b> Categorical predictors</a><ul>
<li class="chapter" data-level="11.4.1" data-path="regression.html"><a href="regression.html#two-categories"><i class="fa fa-check"></i><b>11.4.1</b> Two categories</a></li>
<li class="chapter" data-level="11.4.2" data-path="regression.html"><a href="regression.html#more-than-two-categories"><i class="fa fa-check"></i><b>11.4.2</b> More than two categories</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="regression.html"><a href="regression.html#extensions-of-the-linear-model"><i class="fa fa-check"></i><b>11.5</b> Extensions of the linear model</a><ul>
<li class="chapter" data-level="11.5.1" data-path="regression.html"><a href="regression.html#interaction-effects"><i class="fa fa-check"></i><b>11.5.1</b> Interaction effects</a></li>
<li class="chapter" data-level="11.5.2" data-path="regression.html"><a href="regression.html#non-linear-relationships"><i class="fa fa-check"></i><b>11.5.2</b> Non-linear relationships</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>12</b> Logistic regression</a><ul>
<li class="chapter" data-level="12.1" data-path="logistic-regression.html"><a href="logistic-regression.html#motivation-and-intuition"><i class="fa fa-check"></i><b>12.1</b> Motivation and intuition</a></li>
<li class="chapter" data-level="12.2" data-path="logistic-regression.html"><a href="logistic-regression.html#technical-details-of-the-model"><i class="fa fa-check"></i><b>12.2</b> Technical details of the model</a></li>
<li class="chapter" data-level="12.3" data-path="logistic-regression.html"><a href="logistic-regression.html#estimation-in-r"><i class="fa fa-check"></i><b>12.3</b> Estimation in R</a><ul>
<li class="chapter" data-level="12.3.1" data-path="logistic-regression.html"><a href="logistic-regression.html#model-selection"><i class="fa fa-check"></i><b>12.3.1</b> Model selection</a></li>
<li class="chapter" data-level="12.3.2" data-path="logistic-regression.html"><a href="logistic-regression.html#predictions"><i class="fa fa-check"></i><b>12.3.2</b> Predictions</a></li>
<li class="chapter" data-level="12.3.3" data-path="logistic-regression.html"><a href="logistic-regression.html#perfect-prediction-logit"><i class="fa fa-check"></i><b>12.3.3</b> Perfect Prediction Logit</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="logistic-regression.html"><a href="logistic-regression.html#appendix-1"><i class="fa fa-check"></i><b>12.4</b> Appendix</a><ul>
<li class="chapter" data-level="12.4.1" data-path="logistic-regression.html"><a href="logistic-regression.html#maximum-likelihood-estimation"><i class="fa fa-check"></i><b>12.4.1</b> Maximum likelihood estimation</a></li>
<li class="chapter" data-level="12.4.2" data-path="logistic-regression.html"><a href="logistic-regression.html#estimation-of-the-parameters-beta_i"><i class="fa fa-check"></i><b>12.4.2</b> Estimation of the parameters <span class="math inline">\(\beta_i\)</span></a></li>
<li class="chapter" data-level="12.4.3" data-path="logistic-regression.html"><a href="logistic-regression.html#example-1"><i class="fa fa-check"></i><b>12.4.3</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="exploratory-factor-analysis.html"><a href="exploratory-factor-analysis.html"><i class="fa fa-check"></i><b>13</b> Exploratory factor analysis</a><ul>
<li class="chapter" data-level="13.1" data-path="exploratory-factor-analysis.html"><a href="exploratory-factor-analysis.html#introduction-3"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="exploratory-factor-analysis.html"><a href="exploratory-factor-analysis.html#steps-in-factor-analysis"><i class="fa fa-check"></i><b>13.2</b> Steps in factor analysis</a><ul>
<li class="chapter" data-level="13.2.1" data-path="exploratory-factor-analysis.html"><a href="exploratory-factor-analysis.html#are-the-assumptions-satisfied"><i class="fa fa-check"></i><b>13.2.1</b> Are the assumptions satisfied?</a></li>
<li class="chapter" data-level="13.2.2" data-path="exploratory-factor-analysis.html"><a href="exploratory-factor-analysis.html#deriving-factors"><i class="fa fa-check"></i><b>13.2.2</b> Deriving factors</a></li>
<li class="chapter" data-level="13.2.3" data-path="exploratory-factor-analysis.html"><a href="exploratory-factor-analysis.html#factor-interpretation"><i class="fa fa-check"></i><b>13.2.3</b> Factor interpretation</a></li>
<li class="chapter" data-level="13.2.4" data-path="exploratory-factor-analysis.html"><a href="exploratory-factor-analysis.html#creating-new-variables"><i class="fa fa-check"></i><b>13.2.4</b> Creating new variables</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="exploratory-factor-analysis.html"><a href="exploratory-factor-analysis.html#reliability-analysis"><i class="fa fa-check"></i><b>13.3</b> Reliability analysis</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="assignments.html"><a href="assignments.html"><i class="fa fa-check"></i><b>14</b> Assignments</a><ul>
<li class="chapter" data-level="14.1" data-path="assignments.html"><a href="assignments.html#assignment-2-hypothesis-testing"><i class="fa fa-check"></i><b>14.1</b> Assignment 2 (Hypothesis Testing)</a><ul>
<li class="chapter" data-level="14.1.1" data-path="assignments.html"><a href="assignments.html#load-data"><i class="fa fa-check"></i><b>14.1.1</b> Load data</a></li>
<li class="chapter" data-level="14.1.2" data-path="assignments.html"><a href="assignments.html#question-1"><i class="fa fa-check"></i><b>14.1.2</b> Question 1</a></li>
<li class="chapter" data-level="14.1.3" data-path="assignments.html"><a href="assignments.html#question-2"><i class="fa fa-check"></i><b>14.1.3</b> Question 2</a></li>
<li class="chapter" data-level="14.1.4" data-path="assignments.html"><a href="assignments.html#question-3"><i class="fa fa-check"></i><b>14.1.4</b> Question 3</a></li>
<li class="chapter" data-level="14.1.5" data-path="assignments.html"><a href="assignments.html#question-4"><i class="fa fa-check"></i><b>14.1.5</b> Question 4</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="assignments.html"><a href="assignments.html#assignment-3-anova"><i class="fa fa-check"></i><b>14.2</b> Assignment 3 (Anova)</a><ul>
<li class="chapter" data-level="14.2.1" data-path="assignments.html"><a href="assignments.html#load-data-1"><i class="fa fa-check"></i><b>14.2.1</b> Load data</a></li>
<li class="chapter" data-level="14.2.2" data-path="assignments.html"><a href="assignments.html#question-1-1"><i class="fa fa-check"></i><b>14.2.2</b> Question 1</a></li>
<li class="chapter" data-level="14.2.3" data-path="assignments.html"><a href="assignments.html#question-2-1"><i class="fa fa-check"></i><b>14.2.3</b> Question 2</a></li>
<li class="chapter" data-level="14.2.4" data-path="assignments.html"><a href="assignments.html#question-3-1"><i class="fa fa-check"></i><b>14.2.4</b> Question 3</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="assignments.html"><a href="assignments.html#assignment-4-regression"><i class="fa fa-check"></i><b>14.3</b> Assignment 4 (Regression)</a><ul>
<li class="chapter" data-level="14.3.1" data-path="assignments.html"><a href="assignments.html#load-data-2"><i class="fa fa-check"></i><b>14.3.1</b> Load data</a></li>
<li class="chapter" data-level="14.3.2" data-path="assignments.html"><a href="assignments.html#question-1-2"><i class="fa fa-check"></i><b>14.3.2</b> Question 1</a></li>
<li class="chapter" data-level="14.3.3" data-path="assignments.html"><a href="assignments.html#question-2-2"><i class="fa fa-check"></i><b>14.3.3</b> Question 2</a></li>
<li class="chapter" data-level="14.3.4" data-path="assignments.html"><a href="assignments.html#question-3-2"><i class="fa fa-check"></i><b>14.3.4</b> Question 3</a></li>
<li class="chapter" data-level="14.3.5" data-path="assignments.html"><a href="assignments.html#question-4-1"><i class="fa fa-check"></i><b>14.3.5</b> Question 4</a></li>
<li class="chapter" data-level="14.3.6" data-path="assignments.html"><a href="assignments.html#question-5"><i class="fa fa-check"></i><b>14.3.6</b> Question 5</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Marketing Research Design &amp; Analysis 2018</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-import-and-export" class="section level1">
<h1><span class="header-section-number">4</span> Data import and export</h1>
<p>Before you can start your analytics in R, you first need to import the data you wish to perform the analytics on. You will often be faced with different types of data formats (usually produced by some other statistical software like SPSS or Excel or a text editor). Fortunately, R is fairly flexible with respect to the sources from which data may be imported and you can import the most common data formats into R with the help of a few packages. R can, among others, handle data from the following sources:</p>
<div class="figure">
<img src="https://github.com/IMSMWU/Teaching/raw/master/MRDA2017/Graphics/data_import.JPG" alt="Data Import" />
<p class="caption">Data Import</p>
</div>
<p>In the previous chapter, we saw how we may use the keyboard to input data in R. In the following sections, we will learn how to import data from text files and other statistical software packages.</p>
<div id="getting-data-for-this-course" class="section level2">
<h2><span class="header-section-number">4.1</span> Getting data for this course</h2>
<p>Most of the datasets we will be working with in this course will be stored in text files (i.e., .dat, .txt, .csv). There are two ways for you to obtain access to the datasets:</p>
<div id="directly-import-datasets-from-github-recommended" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Directly import datasets from GitHub (recommended)</h3>
<p>All datasets we will be working with are stored in a repository on GitHub (similar to other cloud storage services such as Dropbox). If you know the location, where the files are stored, you may conveniently load the data directly from GitHub into R using the <code>read.table()</code> function. The <code>header=TRUE</code> argument indicates that the first line of data represents the header, i.e., it contains the names of the columns. The <code>sep=&quot;\t&quot;</code>-argument specifies the delimiter (the character used to separate the columns), which is a TAB in this case.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">test_data &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;https://raw.githubusercontent.com/IMSMWU/Teaching/master/MRDA2017/test_data.dat&quot;</span>, 
                        <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, 
                        <span class="dt">header =</span> <span class="ot">TRUE</span>)</code></pre></div>
</div>
<div id="download-and-import-datasets-from-learnwu" class="section level3">
<h3><span class="header-section-number">4.1.2</span> Download and import datasets from “Learn@WU”</h3>
<p>It is also possible to download the data from the respective folder on the “Learn@WU” platform, placing it in the working directory and importing it from there. However, this requires an additional step to download the file manually first. If you chose this option, please <strong>remember to put the data file in the working directory first</strong>. If the import is not working, check your working directory setting using <code>getwd()</code>. Once you placed the file in the working directory, you can import it using the same command as above. Note that the file must be given as a character string (i.e., in quotation marks) and has to end with the file extension (e.g., .csv, .tsv, etc.).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">test_data &lt;-<span class="st"> </span><span class="kw">read.table</span>(test_file, <span class="dt">header=</span><span class="ot">TRUE</span>)</code></pre></div>
</div>
</div>
<div id="import-data-created-by-other-software-packages" class="section level2">
<h2><span class="header-section-number">4.2</span> Import data created by other software packages</h2>
<p>Sometimes, you may need to import data files created by other software packages, such as Excel or SPSS. In this section we will use the <code>readxl</code> and <code>haven</code> packages to do this. To import a certain file you should first make sure that the file is stored in your current working directory. You can list all file names in your working directory using the <code>list.files()</code> function. If the file is not there, either copy it to your current working directory, or set your working directory to the folder where the file is located using <code>setwd(&quot;/path/to/file&quot;)</code>. This tells R the folder you are working in. Remember that you have to use <code>/</code> instead of <code>\</code> to specify the path (if you use Windows paths copied from the explorer they will not work). When your file is in your working directory you can simply enter the filename into the respective import command. The import commands offer various options. For more details enter <code>?read_excel</code>, <code>?read_spss</code> after loading the packages.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">list.files</span>() <span class="co">#lists all files in the current working directory</span>
<span class="co">#setwd(&quot;/path/to/file&quot;) #may be used to change the working directory to the folder that contains the desired file</span>

<span class="co">#import excel files</span>
<span class="kw">library</span>(readxl) <span class="co">#load package to import Excel files</span>
<span class="kw">excel_sheets</span>(<span class="st">&quot;test_data.xlsx&quot;</span>)
test_data_excel &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;test_data.xlsx&quot;</span>, <span class="dt">sheet =</span> <span class="st">&quot;mrda_2016_survey&quot;</span>) <span class="co"># &quot;sheet=x&quot;&quot; specifies which sheet to import</span>
<span class="kw">head</span>(test_data_excel)

<span class="kw">library</span>(haven) <span class="co">#load package to import SPSS files</span>
<span class="co">#import SPSS files</span>
test_data_spss &lt;-<span class="st"> </span><span class="kw">read_sav</span>(<span class="st">&quot;test_data.sav&quot;</span>)
<span class="kw">head</span>(test_data_spss)</code></pre></div>
<p>The import of other file formats works in a very similar way (e.g., Stata, SAS). Please refer to the respective help-files (e.g., <code>?read_dta</code>, <code>?read_sas</code> …) if you wish to import data created by other software packages.</p>
</div>
<div id="export-data" class="section level2">
<h2><span class="header-section-number">4.3</span> Export data</h2>
<p>Exporting to different formats is also easy, as you can just replace “read” with “write” in many of the previously discussed functions (e.g. <code>write.table(file_name)</code>). This will save the data file to the working directory. To check what the current working directory is you can use <code>getwd()</code>. By default, the <code>write.table(file_name)</code>function includes the row number as the first variable. By specifying <code>row.names = FALSE</code>, you may exclude this variable since it doesn’t contain any useful information.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write.table</span>(test_data, <span class="st">&quot;testData.dat&quot;</span>, <span class="dt">row.names =</span> <span class="ot">FALSE</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>) <span class="co">#writes to a tab-delimited text file</span>
<span class="kw">write.table</span>(test_data, <span class="st">&quot;testData.csv&quot;</span>, <span class="dt">row.names =</span> <span class="ot">FALSE</span>, <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>) <span class="co">#writes to a comma-separated value file </span>
<span class="kw">write_sav</span>(test_data, <span class="st">&quot;my_file.sav&quot;</span>)</code></pre></div>
</div>
<div id="import-data-from-the-web" class="section level2">
<h2><span class="header-section-number">4.4</span> Import data from the Web</h2>
<div id="scraping-data-from-websites" class="section level3">
<h3><span class="header-section-number">4.4.1</span> Scraping data from websites</h3>
<p>Sometimes you may come accross interesting data on websites that you would like to analyse. Reading data from websites is possible in R, e.g., using the <code>rvest</code> package. Let’s assume you would like to read a table that lists the population of different countries from <a href="https://en.wikipedia.org/wiki/List_of_countries_and_dependencies_by_population" target="_blank">this Wikipedia page</a>. It helps to first inspect the structure of the website (e.g., using tools like <a href="http://selectorgadget.com/" target="_blank">SelectorGadget</a>), so you know which elements you would like to extract. In this case it is fairly obvious that the data are stored in a table for which the associated html-tag is <code>&lt;table&gt;</code>. So let’s read the entire website using <code>read_html(url)</code> and filter all tables using <code>read_html(html_nodes(...,&quot;table&quot;))</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rvest)
url &lt;-<span class="st"> &quot;https://en.wikipedia.org/wiki/List_of_countries_and_dependencies_by_population&quot;</span>
population &lt;-<span class="st"> </span><span class="kw">read_html</span>(url) 
population &lt;-<span class="st"> </span><span class="kw">html_nodes</span>(population, <span class="st">&quot;table&quot;</span>)
<span class="kw">print</span>(population)</code></pre></div>
<pre><code>## {xml_nodeset (3)}
## [1] &lt;table class=&quot;plainlinks metadata ambox ambox-move&quot; role=&quot;presentati ...
## [2] &lt;table class=&quot;wikitable sortable&quot; style=&quot;text-align:right&quot;&gt;\n&lt;tr&gt;\n&lt; ...
## [3] &lt;table class=&quot;nowraplinks hlist collapsible autocollapse navbox-inne ...</code></pre>
<p>The output shows that there are two tables on the website and the first one appears to contain the relevant information. So let’s read the first table using the <code>html_table()</code> function. Note that <code>population</code> is of class “list”. A list is a vector that has other R objects (e.g., other vectors, dataframes, matrices, etc.) as its elements. If we want to access the data of one of the elements, we have to use two square brackets on each side instead of just one (e.g., <code>population[[1]]</code> gets us the first table from the list of tables on the website; the argument <code>fill = TRUE</code> ensures that empty cells are replaced with missing values when reading the table).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">population &lt;-<span class="st"> </span>population[[<span class="dv">2</span>]] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_table</span>(<span class="dt">fill =</span> <span class="ot">TRUE</span>)
<span class="kw">head</span>(population) <span class="co">#checks if we scraped the desired data</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Rank"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Country\n(or dependent territory)"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Population"],"name":[3],"type":["chr"],"align":["left"]},{"label":["Date"],"name":[4],"type":["chr"],"align":["left"]},{"label":["% of world\npopulation"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Source"],"name":[6],"type":["chr"],"align":["left"]}],"data":[{"1":"1","2":"China[Note 2]","3":"1,392,640,000","4":"June 28, 2018","5":"18.2%","6":"Official population clock"},{"1":"2","2":"India[Note 3]","3":"1,333,630,000","4":"June 28, 2018","5":"17.5%","6":"Official population clock"},{"1":"3","2":"United States[Note 4]","3":"327,386,000","4":"June 28, 2018","5":"4.29%","6":"Official population clock"},{"1":"4","2":"Indonesia","3":"261,890,900","4":"July 1, 2017","5":"3.43%","6":"Official annual projection"},{"1":"5","2":"Pakistan","3":"212,060,000","4":"June 28, 2018","5":"2.78%","6":"Official population clock"},{"1":"6","2":"Brazil","3":"209,242,000","4":"June 28, 2018","5":"2.74%","6":"Official population clock"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>You can see that population is read as a character variable because of the commas.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(population<span class="op">$</span>Population)</code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>If we wanted to use this variable for some kind of analysis, we would first need to convert it to numeric format using the <code>as.numeric()</code> function. However, before we can do this, we can use the <code>gsub()</code> function, which replaces all matches of a string. In our case, we would like to replace the commas (<code>&quot;,&quot;</code>) with nothing (<code>&quot;&quot;</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">population<span class="op">$</span>Population &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>,population<span class="op">$</span>Population)) <span class="co">#convert to numeric</span>
<span class="kw">head</span>(population) <span class="co">#checks if we scraped the desired data</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Rank"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Country\n(or dependent territory)"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Population"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Date"],"name":[4],"type":["chr"],"align":["left"]},{"label":["% of world\npopulation"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Source"],"name":[6],"type":["chr"],"align":["left"]}],"data":[{"1":"1","2":"China[Note 2]","3":"1392640000","4":"June 28, 2018","5":"18.2%","6":"Official population clock"},{"1":"2","2":"India[Note 3]","3":"1333630000","4":"June 28, 2018","5":"17.5%","6":"Official population clock"},{"1":"3","2":"United States[Note 4]","3":"327386000","4":"June 28, 2018","5":"4.29%","6":"Official population clock"},{"1":"4","2":"Indonesia","3":"261890900","4":"July 1, 2017","5":"3.43%","6":"Official annual projection"},{"1":"5","2":"Pakistan","3":"212060000","4":"June 28, 2018","5":"2.78%","6":"Official population clock"},{"1":"6","2":"Brazil","3":"209242000","4":"June 28, 2018","5":"2.74%","6":"Official population clock"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Now the variable is of type “numeric” and could be used for analysis.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(population<span class="op">$</span>Population)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
</div>
<div id="scraping-data-from-apis" class="section level3">
<h3><span class="header-section-number">4.4.2</span> Scraping data from APIs</h3>
<div id="scraping-data-from-apis-directly" class="section level4">
<h4><span class="header-section-number">4.4.2.1</span> Scraping data from APIs directly</h4>
<p>Reading data from websites can be tricky since you need to analyze the page structure first. Many web-services (e.g., Facebook, Twitter, YouTube) actually have application programming interfaces (API’s), which you can use to obtain data in a pre-structured format. JSON (JavaScript Object Notation) is a popular lightweight data-interchange format in which data can be obtained. The process of obtaining data is visualized in the following graphic:</p>
<div class="figure">
<img src="https://github.com/IMSMWU/Teaching/raw/master/MRDA2017/API.JPG" alt="Obtaining data from APIs" />
<p class="caption">Obtaining data from APIs</p>
</div>
<p>The process of obtainig data from APIs consists of the following steps:</p>
<ul>
<li>Identify an API that has enough data to be relevant and reliable (e.g., <a href="http://www.programmableweb.com:" target="_blank">www.programmableweb.com</a> has &gt;12,000 open web APIs in 63 categories).</li>
<li>Request information by calling (or, more technically speaking, creating a request to) the API (e.g., R, python, php or JavaScript).</li>
<li>Receive response messages, which is usually in JavaScript Object Notation (JSON) or Extensible Markup Language (XML) format.</li>
<li>Write a parser to pull out the elements you want and put them into a of simpler format</li>
<li>Store, process or analyze data according the marketing research question.</li>
</ul>
<p>Let’s assume that you would like to obtain population data again. The World Bank has an API that allows you to easily obtain this kind of data. The details are usually provided in the API reference, e.g., <a href="https://datahelpdesk.worldbank.org/knowledgebase/articles/889392-api-documentation" target="_blank">here</a>. You simply “call” the API for the desired information and get a structured JSON file with the desired key-value pairs in return. For example, the population for Austria from 1960 to 2016 can be obtained using <a href="http://api.worldbank.org/countries/AT/indicators/SP.POP.TOTL/?date=1960:2016&format=json&per_page=100" target="_blank">this call</a>. The file can be easily read into R using the <code>fromJSON()</code>-function from the <code>jsonlite</code>-package. Again, the result is a list and the second element <code>ctrydata[[2]]</code> contains the desired data, from which we select the “value” and “data” columns using the square brackets as usual <code>[,c(&quot;value&quot;,&quot;date&quot;)]</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(jsonlite)
url &lt;-<span class="st"> &quot;http://api.worldbank.org/countries/AT/indicators/SP.POP.TOTL/?date=1960:2016&amp;format=json&amp;per_page=100&quot;</span> <span class="co">#specifies url</span>
ctrydata &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(url) <span class="co">#parses the data </span>
<span class="kw">str</span>(ctrydata)</code></pre></div>
<pre><code>## List of 2
##  $ :List of 4
##   ..$ page    : int 1
##   ..$ pages   : int 1
##   ..$ per_page: chr &quot;100&quot;
##   ..$ total   : int 57
##  $ :&#39;data.frame&#39;:    57 obs. of  5 variables:
##   ..$ indicator:&#39;data.frame&#39;:    57 obs. of  2 variables:
##   .. ..$ id   : chr [1:57] &quot;SP.POP.TOTL&quot; &quot;SP.POP.TOTL&quot; &quot;SP.POP.TOTL&quot; &quot;SP.POP.TOTL&quot; ...
##   .. ..$ value: chr [1:57] &quot;Population, total&quot; &quot;Population, total&quot; &quot;Population, total&quot; &quot;Population, total&quot; ...
##   ..$ country  :&#39;data.frame&#39;:    57 obs. of  2 variables:
##   .. ..$ id   : chr [1:57] &quot;AT&quot; &quot;AT&quot; &quot;AT&quot; &quot;AT&quot; ...
##   .. ..$ value: chr [1:57] &quot;Austria&quot; &quot;Austria&quot; &quot;Austria&quot; &quot;Austria&quot; ...
##   ..$ value    : chr [1:57] &quot;8731471&quot; &quot;8633169&quot; &quot;8541575&quot; &quot;8479375&quot; ...
##   ..$ decimal  : chr [1:57] &quot;0&quot; &quot;0&quot; &quot;0&quot; &quot;0&quot; ...
##   ..$ date     : chr [1:57] &quot;2016&quot; &quot;2015&quot; &quot;2014&quot; &quot;2013&quot; ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(ctrydata[[<span class="dv">2</span>]][,<span class="kw">c</span>(<span class="st">&quot;value&quot;</span>,<span class="st">&quot;date&quot;</span>)]) <span class="co">#checks if we scraped the desired data</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["value"],"name":[1],"type":["chr"],"align":["left"]},{"label":["date"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"8731471","2":"2016"},{"1":"8633169","2":"2015"},{"1":"8541575","2":"2014"},{"1":"8479375","2":"2013"},{"1":"8429991","2":"2012"},{"1":"8391643","2":"2011"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="scraping-data-from-apis-via-r-packages" class="section level4">
<h4><span class="header-section-number">4.4.2.2</span> Scraping data from APIs via R packages</h4>
<p>An even more convenient way to obtain data from web APIs is to use existing R packages that someone else has already created. There are R packages available for various web-services. For example, the <code>gtrendsR</code> package can be used to conveniently obtain data from the <a href="https://trends.google.at/trends/" target="_blank">Google Trends</a> page. The <code>gtrends()</code> function is easy to use ans returns a list of elements (e.g., “interest over time”, “interest by city”, “related topics”), which can be inspected using the <code>ls()</code> function. The following example can be used to obtain data for the search term “data science” in the US between September 1 and October 6:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># library(gtrendsR)</span>
<span class="co"># google_trends &lt;- gtrends(&quot;data science&quot;, geo = c(&quot;US&quot;), gprop = c(&quot;web&quot;), time = &quot;2017-09-01 2017-10-06&quot;)</span>
<span class="co"># ls(google_trends)</span>
<span class="co"># head(google_trends$interest_over_time)</span></code></pre></div>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="advanced-data-handling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="random-variables.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub", "_main.mobi"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
